<div class="x_panel">
    <div class="x_title">
        <h4>Анализ продаж за период</h4>
    </div>
    <div class="x_content">
        <form class="form-horizontal" (ngSubmit)="submitForm()" [formGroup]="editForm">
            <div class="row">
                <div class="form-group col-md-6 col-sm-12">
                    <label>Дата начала</label>
                    <input type="date" class="form-control" formControlName="firstDate" [class.error]="!editForm.get('firstDate').valid"/>
                    <span *ngIf="checkControlValidation('firstDate', 'required')" class="text-danger">Обязательное поле</span>
                </div>
                <div class="form-group col-md-6 col-sm-12">
                    <label>Дата окончания</label>
                    <input type="date" class="form-control" formControlName="secondDate" [class.error]="!editForm.get('secondDate').valid"/>
                    <span *ngIf="checkControlValidation('secondDate', 'required')" class="text-danger">Обязательное поле</span>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-md-3">
                    <label>Процент зарплаты</label>
                    <input type="number" class="form-control" formControlName="salaryPercent" [class.error]="!editForm.get('salaryPercent').valid"/>
                    <span *ngIf="checkControlValidation('salaryPercent', 'required')" class="text-danger">Обязательное поле</span>
                    <span *ngIf="checkControlValidation('salaryPercent', 'invalidPercent')" class="text-danger">Укажите значение в процентах</span>
                </div>
            </div>
            <div class="row col-md-3">
                <button [disabled]="editForm.invalid" type="submit" class="btn btn-primary"><i class="fa fa-table" aria-hidden="true"></i>
                    Создать отчёт
                </button>
            </div>
        </form>
    </div>
</div>

<div *ngIf="ordersList.length > 0" class="x_panel">
    <div class="x_content">
        <table class="table table-hover">
            <tbody>
            <tr>
                <td>Всего продано, шт</td>
                <td>{{reportInfo.totalCount}}</td>
            </tr>
            <tr>
                <td>Средняя цена, грн</td>
                <td>{{reportInfo.averagePrice}}</td>
            </tr>
            <tr>
                <td>Прибыль, грн</td>
                <td>{{reportInfo.money}}</td>
            </tr>
            <tr>
                <td>Зарплата, грн</td>
                <td>{{reportInfo.salary}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<div *ngIf="ordersList.length > 0" class="x_panel">
    <div class="x_content">
        <table class="table table-hover">
            <thead>
            <tr>
                <th>№ Заказа</th>
                <th>Клиент</th>
                <th>Количество, шт</th>
                <th>Цена/шт</th>
                <th>Дата</th>
                <th>Сумма, грн.</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let order of ordersList">
                <td>{{order.id}}</td>
                <td>{{order.clientName}}</td>
                <td>{{order.totalAmount}}</td>
                <td>{{order.pricePerUnit}}</td>
                <td>{{formatDate(order.date)}}</td>
                <td>{{order.totalSum}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>